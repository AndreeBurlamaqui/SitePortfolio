---
// You can add global scripts or styles here if you want
const { 
  title, 
  description = "Game Developer Portfolio of Andrée Burlamaqui", 
  image = "/social-preview.png" // You should add a default image to your public folder
} = Astro.props;
const currentPath = Astro.url.pathname; // Gets the current URL (e.g., "/" or "/resume")
const canonicalURL = new URL(currentPath, Astro.site); // Full URL for social sharing
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.png" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <meta name="title" content={`${title} | Andrée Burlamaqui`} />
    <meta name="description" content={description} />
    <meta property="og:image" content={new URL(image, canonicalURL)} />
    <title>{title}</title> 
    </head>
  <body>

    <div class ="main-container">
        <aside class="sidebar">
        <div class="profile">
      <h1>Andrée Burlamaqui</h1>

      <div class="sidebar-footer">
           <a href="https://www.linkedin.com/in/burlamaqui/" target="_blank"><i class="fa-brands fa-square-linkedin"></i></a>
           <a href="https://github.com/AndreeBurlamaqui" target="_blank"><i class="fa-brands fa-square-github"></i></a>
           <a href="https://x.com/umdree_" target="_blank"><i class="fa-brands fa-square-x-twitter"></i></a>
           <a href="https://www.artstation.com/burlamaqui" class="fa-stack small" target="_blank">
              <i class="fa-solid fa-square fa-stack-2x"></i>
              <i class="fa-brands fa-artstation fa-stack-1x fa-inverse"></i>
          </a>
        </div>

      <p>Award-winning game developer with 5+ years of experience and contributions to 10+ games</p>
    </div>

<nav class="main-nav">
          
          <a href="/" class={`nav-item ${currentPath === '/' || currentPath.includes('/released-games') || currentPath.includes('/ui-studies') ? 'active' : ''}`}>
            <i class="fa-solid fa-code"></i> Projects
          </a>

          <a href="/resume" class={`nav-item ${currentPath.includes('/resume') ? 'active' : ''}`}>
            <i class="fa-solid fa-file-lines"></i> CV / Resume
          </a>

          <a href="/thesis" class={`nav-item ${currentPath.includes('/thesis') ? 'active' : ''}`}>
            <i class="fa-solid fa-graduation-cap"></i> University Thesis
          </a>

          <a 
            href="mailto:umdreeb@gmail.com?subject=Hiring%20Inquiry&body=Hey,%20I'm%20reaching%20out%20after%20seeing%20your%20work."
             class="nav-item"
            >
            <i class="fa-solid fa-envelope"></i> Email Me
          </a>

        </nav>

        <!-- REMOVE WHEN FINISHED -->
        <div style="margin-top: auto;">
          <hr>
            <span class="tag">Work in progress...</span>
        </div>
        <!-- REMOVE WHEN FINISHED -->


      </aside>

    <main class="content-area">
        <slot /> 
      </main>

    </div>
  </body>
</html>

<style>
  /* --- GLOBAL LAYOUT STYLES --- */
  body { margin: 0; font-family: sans-serif; }

  .main-container {
    display: flex;
    min-height: 100vh;
  }

  .sidebar {
    width: 15%;
    position: fixed;
    top: 0; bottom: 0; left: 0;
    background: #f8f9fa;
    border-right: 1px solid #eee;
    padding: 3rem 2rem;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
  }

.main-nav {
    margin-top: 3rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    width: 100%;
  }

  .nav-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    text-decoration: none;
    color: #666;
    font-weight: 600;
    border-radius: 8px;
    transition: all 0.2s;
  }

  .nav-item:hover {
    background-color: #eee;
    color: #000;
  }

  /* The Active State (Selected Tab) */
  .nav-item.active {
    background-color: #000; /* Black background */
    color: #fff;            /* White text */
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  }

  /* Footer Icons */
  .sidebar-footer {
    display: inline-flex;
    flex-direction: row;
    margin-top: auto;
    gap: 0.5rem;
    font-size: 2rem;
    justify-content: left;
  }
  .sidebar-footer a { color: #888; transition: color 0.2s; }
  .sidebar-footer a:hover { color: #000; }

  /* Content Area */
  .content-area {
    margin-left: 15%; /* Matches sidebar width */
    width: 100%;
    padding: 3rem 2rem;
    box-sizing: border-box;
  }

    .fa-stack.small {
    font-size: 0.5em;
    justify-items: center;
    align-items: center;
    margin-top: 0.11em;
  }


  /* --- MOBILE RESPONSIVENESS --- */
@media screen and (max-width: 768px) {

  .sidebar {
    width: 30%;
    height: auto;
    padding: 2rem 1.5rem;
    border-right: none;
    border-bottom: 1px solid #eee;
  }

  .content-area {
    display: flex;
    flex-direction: column;
    align-items: center;

    margin-left: 30%; /* Matches sidebar width */
    width: 70%;
    padding: 2rem 1.5rem;
    box-sizing: border-box;
  }

  .nav-item {
    padding: 0.8rem 1rem;
    font-size: 0.9rem;
  }
}
</style>