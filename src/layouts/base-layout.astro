---
// You can add global scripts or styles here if you want
const { title } = Astro.props;
const currentPath = Astro.url.pathname; // Gets the current URL (e.g., "/" or "/resume")
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title> 
    </head>
  <body>

    <div class ="main-container">
        <aside class="sidebar">
        <div class="profile">
      <h1>Andr√©e Burlamaqui</h1>

      <div class="sidebar-footer">
           <a href="#"><i class="fa-brands fa-linkedin"></i></a>
           <a href="#"><i class="fa-brands fa-github"></i></a>
        </div>

      <p>Award-winning game developer with 5+ years of experience and contributions to 10+ games</p>
    </div>

<nav class="main-nav">
          
          <a href="/" class={`nav-item ${currentPath === '/' || currentPath.includes('/released-games') || currentPath.includes('/ui-studies') ? 'active' : ''}`}>
            <i class="fa-solid fa-gamepad"></i> Projects
          </a>

          <a href="/resume" class={`nav-item ${currentPath.includes('/resume') ? 'active' : ''}`}>
            <i class="fa-solid fa-file-lines"></i> Resume
          </a>

        </nav>

    </aside>

    <main class="content-area">
        <slot /> 
      </main>

    </div>
  </body>
</html>

<style>
  /* --- GLOBAL LAYOUT STYLES --- */
  body { margin: 0; font-family: sans-serif; }

  .main-container {
    display: flex;
    min-height: 100vh;
  }

  .sidebar {
    width: 25%;
    position: fixed;
    top: 0; bottom: 0; left: 0;
    background: #f8f9fa;
    border-right: 1px solid #eee;
    padding: 3rem 2rem;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
  }

  .avatar { border-radius: 50%; margin-bottom: 1rem; width: 120px; height: 120px; object-fit: cover; }
  .role { color: #666; line-height: 1.4; }
  
.main-nav {
    margin-top: 3rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    width: 100%;
  }

  .nav-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    text-decoration: none;
    color: #666;
    font-weight: 600;
    border-radius: 8px;
    transition: all 0.2s;
  }

  .nav-item:hover {
    background-color: #eee;
    color: #000;
  }

  /* The Active State (Selected Tab) */
  .nav-item.active {
    background-color: #000; /* Black background */
    color: #fff;            /* White text */
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  }

  /* Footer Icons */
  .sidebar-footer {
    margin-top: auto; /* Pushes to bottom */
    display: flex;
    gap: 1rem;
    font-size: 1.5rem;
  }
  .sidebar-footer a { color: #888; transition: color 0.2s; }
  .sidebar-footer a:hover { color: #000; }

  /* Content Area */
  .content-area {
    margin-left: 25%; /* Matches sidebar width */
    width: 75%;
    padding: 3rem 4rem;
    box-sizing: border-box;
  }
</style>